{% extends 'base.html' %}
{% block content %}
<section>
  <h2>Predict</h2>
  <form method="get" class="form-inline">
    <label for="model_id">Select Trained Model</label>
    <select id="model_id" name="model_id">
      <option value="">Choose...</option>
      {% for m in models %}
        <option value="{{ m.id }}" {% if selected_model_id == m.id %}selected{% endif %}>{{ m.name }} ({{ m.type }})</option>
      {% endfor %}
    </select>
    <button type="submit">Load</button>
  </form>

  {% if feature_columns and selected_model_id %}
  <form method="post" class="form">
    <input type="hidden" name="model_id" value="{{ selected_model_id }}" />
    <div class="grid three">
      {% for col in feature_columns %}
        <div>
          <label for="feature_{{ col }}">{{ col }}</label>
          <input type="number" step="any" id="feature_{{ col }}" name="feature_{{ col }}" required>
        </div>
      {% endfor %}
    </div>
    <button type="submit">Predict</button>
  </form>
  {% endif %}
</section>
{% endblock %}